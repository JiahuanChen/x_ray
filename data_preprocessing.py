def process_mu(data, energy_bands):
    res = {}
    data = data.split('\n')
    for line in data:
        line = map(float, filter(None, line.split(' ')))
        res[line[0]] = line[1]
    mu = []
    for energy in energy_bands[::2]:
        if energy < min(res.keys()) or energy > max(res.keys()):
            raise ValueError("x-ray energy {} keV is out of range".format(energy))
        for l, h in zip(sorted(res.keys())[:-1], sorted(res.keys())[1:]):
            if l < energy < h:
                mu.append(res[l] + (res[h] - res[l]) * (energy-l) / (h-l))
    return mu


data_mu = {
    "AIR": [
    '''3.001405E+01    3.270168E-01
    3.208502E+01       3.005668E-01
    3.429889E+01       2.786444E-01
    3.666551E+01       2.603807E-01
    3.919543E+01       2.450525E-01
    4.189992E+01       2.320919E-01
    4.479101E+01       2.210445E-01
    4.788159E+01       2.115293E-01
    5.118542E+01       2.032530E-01
    5.471721E+01       1.959710E-01
    5.849270E+01       1.894890E-01
    6.252870E+01       1.836569E-01
    6.684318E+01       1.783393E-01
    7.145536E+01       1.734372E-01
    7.638578E+01       1.688773E-01
    8.165640E+01       1.645851E-01
    8.729069E+01       1.605163E-01
    9.331374E+01       1.566275E-01
    9.975239E+01       1.528853E-01
    1.066353E+02       1.492687E-01
    1.139931E+02       1.457677E-01
    1.218587E+02       1.423477E-01
    1.302669E+02       1.390133E-01
    1.392553E+02       1.357478E-01
    1.488640E+02       1.325511E-01''', 
    1.293e-3],
    "H2O": [
    '''3.001405E+01    3.842926E-01
    3.208502E+01       3.514367E-01
    3.429889E+01       3.242388E-01
    3.666551E+01       3.015910E-01
    3.919543E+01       2.826252E-01
    4.189992E+01       2.665978E-01
    4.479101E+01       2.529690E-01
    4.788159E+01       2.412429E-01
    5.118542E+01       2.310574E-01
    5.471721E+01       2.221239E-01
    5.849270E+01       2.141928E-01
    6.252870E+01       2.070719E-01
    6.684318E+01       2.005970E-01
    7.145536E+01       1.946516E-01
    7.638578E+01       1.891323E-01
    8.165640E+01       1.839627E-01
    8.729069E+01       1.790884E-01
    9.331374E+01       1.744327E-01
    9.975239E+01       1.699901E-01
    1.066353E+02       1.657063E-01
    1.139931E+02       1.615746E-01
    1.218587E+02       1.575539E-01
    1.302669E+02       1.536610E-01
    1.392553E+02       1.498624E-01
    1.488640E+02       1.461605E-01''', 
    1.],
    "Fe": [
    '''3.001405E+01    8.0858E+00
    3.208502E+01       6.6748E+00
    3.429889E+01       5.5048E+00
    3.666551E+01       4.5458E+00
    3.919543E+01       3.7595E+00
    4.189992E+01       3.1145E+00
    4.479101E+01       2.5851E+00
    4.788159E+01       2.1506E+00
    5.118542E+01       1.7938E+00
    5.471721E+01       1.5008E+00
    5.849270E+01       1.2599E+00
    6.252870E+01       1.0618E+00
    6.684318E+01       8.9883E-01
    7.145536E+01       7.6457E-01
    7.638578E+01       6.5389E-01
    8.165640E+01       5.6188E-01
    8.729069E+01       4.8476E-01
    9.331374E+01       4.2128E-01
    9.975239E+01       3.6894E-01
    1.066353E+02       3.2567E-01
    1.139931E+02       2.8983E-01
    1.218587E+02       2.6003E-01
    1.302669E+02       2.3518E-01
    1.392553E+02       2.1436E-01
    1.488640E+02       1.9685E-01''',
    7.8],
    "TNT": [
    '''3.001405E+01    3.242053E-01
    3.208502E+01       2.990000E-01
    3.429889E+01       2.780865E-01
    3.666551E+01       2.606224E-01
    3.919543E+01       2.459404E-01
    4.189992E+01       2.334916E-01
    4.479101E+01       2.228503E-01
    4.788159E+01       2.136597E-01
    5.118542E+01       2.056286E-01
    5.471721E+01       1.985407E-01
    5.849270E+01       1.922051E-01
    6.252870E+01       1.864761E-01
    6.684318E+01       1.812370E-01
    7.145536E+01       1.763866E-01
    7.638578E+01       1.718525E-01
    8.165640E+01       1.675770E-01
    8.729069E+01       1.635124E-01
    9.331374E+01       1.596083E-01
    9.975239E+01       1.558537E-01
    1.066353E+02       1.522101E-01
    1.139931E+02       1.486719E-01
    1.218587E+02       1.452131E-01
    1.302669E+02       1.418381E-01
    1.392553E+02       1.385251E-01
    1.488640E+02       1.352780E-01''',
    1.654],
    "SiO2": [
    '''3.001405E+01    8.681017E-01
    3.208502E+01       7.426583E-01
    3.429889E+01       6.400272E-01
    3.666551E+01       5.558733E-01
    3.919543E+01       4.868000E-01
    4.189992E+01       4.291393E-01
    4.479101E+01       3.817670E-01
    4.788159E+01       3.427302E-01
    5.118542E+01       3.104502E-01
    5.471721E+01       2.836576E-01
    5.849270E+01       2.613151E-01
    6.252870E+01       2.425810E-01
    6.684318E+01       2.267791E-01
    7.145536E+01       2.133636E-01
    7.638578E+01       2.018823E-01
    8.165640E+01       1.919650E-01
    8.729069E+01       1.833320E-01
    9.331374E+01       1.757248E-01
    9.975239E+01       1.689794E-01
    1.066353E+02       1.629188E-01
    1.139931E+02       1.574254E-01
    1.218587E+02       1.523887E-01
    1.302669E+02       1.477397E-01
    1.392553E+02       1.434057E-01
    1.488640E+02       1.393306E-01''',
    2.5],
    "C2H5OH": [
    '''3.001405E+01    3.187353E-01
    3.208502E+01       2.981035E-01
    3.429889E+01       2.808564E-01
    3.666551E+01       2.663174E-01
    3.919543E+01       2.539612E-01
    4.189992E+01       2.433526E-01
    4.479101E+01       2.341520E-01
    4.788159E+01       2.260829E-01
    5.118542E+01       2.189064E-01
    5.471721E+01       2.124611E-01
    5.849270E+01       2.065909E-01
    6.252870E+01       2.011818E-01
    6.684318E+01       1.961521E-01
    7.145536E+01       1.914136E-01
    7.638578E+01       1.869131E-01
    8.165640E+01       1.826127E-01
    8.729069E+01       1.784694E-01
    9.331374E+01       1.744455E-01
    9.975239E+01       1.705415E-01
    1.066353E+02       1.667195E-01
    1.139931E+02       1.629787E-01
    1.218587E+02       1.593057E-01
    1.302669E+02       1.557009E-01
    1.392553E+02       1.521479E-01
    1.488640E+02       1.486544E-01''',
    0.78945],
    "PP":[
    '''3.001405E+01    2.766366E-01
    3.208502E+01       2.638546E-01
    3.429889E+01       2.529976E-01
    3.666551E+01       2.436659E-01
    3.919543E+01       2.355541E-01
    4.189992E+01       2.284253E-01
    4.479101E+01       2.220684E-01
    4.788159E+01       2.163477E-01
    5.118542E+01       2.111035E-01
    5.471721E+01       2.062559E-01
    5.849270E+01       2.017093E-01
    6.252870E+01       1.973994E-01
    6.684318E+01       1.932977E-01
    7.145536E+01       1.893344E-01
    7.638578E+01       1.854880E-01
    8.165640E+01       1.817458E-01
    8.729069E+01       1.780720E-01
    9.331374E+01       1.744538E-01
    9.975239E+01       1.708956E-01
    1.066353E+02       1.673702E-01
    1.139931E+02       1.638804E-01
    1.218587E+02       1.604307E-01
    1.302669E+02       1.570110E-01
    1.392553E+02       1.536156E-01
    1.488640E+02       1.502559E-01''',
    0.9],
    "Al": [
    '''3.001405E+01    1.1184E+00
    3.208502E+01       9.4583E-01
    3.429889E+01       8.0374E-01
    3.666551E+01       6.8672E-01
    3.919543E+01       5.9119E-01
    4.189992E+01       5.1309E-01
    4.479101E+01       4.4915E-01
    4.788159E+01       3.9671E-01
    5.118542E+01       3.5359E-01
    5.471721E+01       3.1803E-01
    5.849270E+01       2.8863E-01
    6.252870E+01       2.6423E-01
    6.684318E+01       2.4389E-01
    7.145536E+01       2.2686E-01
    7.638578E+01       2.1251E-01
    8.165640E+01       2.0034E-01
    8.729069E+01       1.8995E-01
    9.331374E+01       1.8100E-01
    9.975239E+01       1.7321E-01
    1.066353E+02       1.6636E-01
    1.139931E+02       1.6028E-01
    1.218587E+02       1.5482E-01
    1.302669E+02       1.4987E-01
    1.392553E+02       1.4532E-01
    1.488640E+02       1.4110E-01''',
    2.7],
    "5A02": [
    '''3.001405E+01    1.112913E+00
    3.208502E+01       9.412926E-01
    3.429889E+01       8.000136E-01
    3.666551E+01       6.836821E-01
    3.919543E+01       5.887102E-01
    4.189992E+01       5.110620E-01
    4.479101E+01       4.474874E-01
    4.788159E+01       3.953431E-01
    5.118542E+01       3.524630E-01
    5.471721E+01       3.170976E-01
    5.849270E+01       2.878551E-01
    6.252870E+01       2.635822E-01
    6.684318E+01       2.433452E-01
    7.145536E+01       2.263981E-01
    7.638578E+01       2.121145E-01
    8.165640E+01       1.999979E-01
    8.729069E+01       1.896505E-01
    9.331374E+01       1.807344E-01
    9.975239E+01       1.729712E-01
    1.066353E+02       1.661426E-01
    1.139931E+02       1.600792E-01
    1.218587E+02       1.546322E-01
    1.302669E+02       1.496916E-01
    1.392553E+02       1.451490E-01
    1.488640E+02       1.409347E-01''',
    2.86],
    "2A12":[
    '''3.001405E+01    2.047363E+00
    3.208502E+01       1.713007E+00
    3.429889E+01       1.437360E+00
    3.666551E+01       1.210193E+00
    3.919543E+01       1.023448E+00
    4.189992E+01       8.682765E-01
    4.479101E+01       7.410177E-01
    4.788159E+01       6.365826E-01
    5.118542E+01       5.507316E-01
    5.471721E+01       4.800713E-01
    5.849270E+01       4.218026E-01
    6.252870E+01       3.736867E-01
    6.684318E+01       3.338414E-01
    7.145536E+01       3.007721E-01
    7.638578E+01       2.732321E-01
    8.165640E+01       2.501431E-01
    8.729069E+01       2.306551E-01
    9.331374E+01       2.142521E-01
    9.975239E+01       2.003570E-01
    1.066353E+02       1.885059E-01
    1.139931E+02       1.783275E-01
    1.218587E+02       1.695096E-01
    1.302669E+02       1.618059E-01
    1.392553E+02       1.549986E-01
    1.488640E+02       1.489286E-01''',
    2.77],
    "Nylon6": [
    '''3.001405E+01    2.951292E-01
    3.208502E+01       2.775661E-01
    3.429889E+01       2.628375E-01
    3.666551E+01       2.503754E-01
    3.919543E+01       2.397333E-01
    4.189992E+01       2.305554E-01
    4.479101E+01       2.225477E-01
    4.788159E+01       2.154890E-01
    5.118542E+01       2.091702E-01
    5.471721E+01       2.034576E-01
    5.849270E+01       1.982197E-01
    6.252870E+01       1.933611E-01
    6.684318E+01       1.888187E-01
    7.145536E+01       1.845109E-01
    7.638578E+01       1.803972E-01
    8.165640E+01       1.764464E-01
    8.729069E+01       1.726186E-01
    9.331374E+01       1.688877E-01
    9.975239E+01       1.652501E-01
    1.066353E+02       1.616760E-01
    1.139931E+02       1.581648E-01
    1.218587E+02       1.547087E-01
    1.302669E+02       1.513030E-01
    1.392553E+02       1.479366E-01
    1.488640E+02       1.446177E-01''',
    1.13],
    "PVC": [
    '''3.001405E+01    1.471182E+00
    3.208502E+01       1.235589E+00
    3.429889E+01       1.043070E+00
    3.666551E+01       8.856160E-01
    3.919543E+01       7.567363E-01
    4.189992E+01       6.510433E-01
    4.479101E+01       5.643121E-01
    4.788159E+01       4.929988E-01
    5.118542E+01       4.342518E-01
    5.471721E+01       3.857485E-01
    5.849270E+01       3.455913E-01
    6.252870E+01       3.119809E-01
    6.684318E+01       2.838716E-01
    7.145536E+01       2.604153E-01
    7.638578E+01       2.407453E-01
    8.165640E+01       2.241521E-01
    8.729069E+01       2.100580E-01
    9.331374E+01       1.980089E-01
    9.975239E+01       1.876260E-01
    1.066353E+02       1.785968E-01
    1.139931E+02       1.706839E-01
    1.218587E+02       1.636732E-01
    1.302669E+02       1.574016E-01
    1.392553E+02       1.517414E-01
    1.488640E+02       1.465840E-01''',
    1.4]
    }
